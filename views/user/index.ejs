<div class="row">
  <div class="col-lg-offset-1 col-lg-5">
		<h3>Enter in a game</h3>
		<table class="table table-striped table-hover">
  		<tr>
        <th>#</th>
				<th>Name</th>
				<th>Players</th>
				<th>Enter</th>
			</tr>
			<% _.each(games, function (game)  { %>
				<tr>
        <td><%= game.id %></td>
				<td><%= game.name %></td>
				<td><%= game.nr_players %> / <%= game.total_players %> </td>
				<td>
					<% if(game.total_players <= game.nr_players) { %>
            <span class="glyphicon glyphicon-remove-circle"></span>
          <% } else { %>
						<span class="glyphicon glyphicon-ok-circle"></span>
					<% } %>
				</td>
			</tr>
			<% }) %>
		</table>
	</div>
  <div class="col-lg-offset-1 col-lg-3">
		<h3>New game</h3>
		<form role="form" action="/game/create" method="POST">
			<div class="form-group">
				<label>Name</label>
				<input type="text" class="form-control" name="name">
			</div>
			<div class="form-group">
				<label> Nr. players </label>
				<select class="form-control" name="total_players">
					<option>3</option>
					<option>4</option>
				</select>
			</div>
			<button type="submit" class="btn btn-default">Create</button>
			</form>
	</div>
  <script>
    var rows = $(".glyphicon-ok-circle").parent().parent();
    rows.click(function() {
      var id = parseInt($(this).children().first().text());
      $.get("/game/enter/" + id, function() {
        window.location = "/game/" + id;
      });
    });
  </script>
</div>
